В своей рекламной кампании Oracle использовала громкий тезис про 3 миллиарда устройств: ”3 Billion Devices Run Java”. Вообще это не про количество пользователей, которые скачали себе жабу на свои компьютеры. Тут все намного интереснее. Java и правда один из самых универсальных языков программирования, потому что его цель — запускаться на любом устройстве, для которого *создана специальная среда выполнения*.
![[java.png]]
Но как же? С каким бы языком программирования мы ни работали, можно посадить программиста и заставить его переписать программу так, чтобы теперь она работала не на винде, а на каком-нибудь дистрибутиве линукс. А если мы создали еще одно приложение… правильно, тащим за воротник уже знакомого нам программиста. А мы ведь еще хотим разработать версию для MacOS, Ubuntu Server и умной стиральной машинки. Возможно, на пятом приложении разработчик не согласится заниматься этим неблагодарным делом. Но ведь… у него же все еще есть родственники? Короче говоря, такая разработка — слишком долго, дорого, проблематично, возможно, не всегда законно.

Тогда пришли чуваки из Sun Microsystems (у них охуенное лого), которую позже поглотила Oracle, посидели, подумали и предложили разработчикам язык, код на котором можно будет запустить на абсолютно любой машине. Но ведь все устройства и их операционные системы совершенно разные, и к разработке на них необходим разный подход. В таком случае можно создать **прослойку-посредника**, которая будет стоять между кодом программы и операционной системой и превращать один и тот же код в разные инструкции, необходимые для конкретного устройства. Эту прослойку и предложили разработчики Java.
![[Sun Microsystems.png]]
Немного терминологии. **Компиляция** — это процесс, когда весь ваш код переводится в машинный код (код, который может быть непосредственно выполнен компьютером) за один раз. **Интерпретация** — это когда код выполняется построчно, т.е. интерпретатор читает ваш код строку за строкой и выполняет ее на лету. **Java Virtual Machine (JVM)** — это виртуальная машина, которая отвечает за выполнение специального байт-кода. Виртуальная машина Java отличается от обычной виртуальной машины (например, VirtualBox или VMware), которая эмулирует целую операционную систему. JVM же эмулирует только среду выполнения Java-программ.

Когда ты пишешь программу на Java и компилируешь ее с помощью компилятора javac, он преобразует твой код из текстового файла (.java) в байт-код (.class). Байт-код — это не машинный код, который может непосредственно выполнить процессор, а специальный код, который понимает JVM. Виртуальная машина выступает прослойкой, которая получает абсолютно универсальный байт-код. Когда ты запускаешь этот код, JVM, разработанная специально для этой операционной системы, загружает байт-код и выполняет его. Как правило, JVM интерпретирует байт-код. Но чтобы работать быстрее, она постоянно следит за тем, какие части кода выполняются чаще всего. Такие **"горячие" участки (hot spots)** она на лету компилирует в машинный код с помощью **JIT-компилятора (Just-In-Time)**. В следующий раз этот кусок кода будет выполнен уже как родной для процессора, что значительно ускоряет программу.

Благодаря такому исполнению программы разработчикам Java достаточно один раз разработать виртуальную среду выполнения под каждую операционную систему, которых не так уж много, чтобы избавиться от необходимости каждую следующую программу изменять и перекомпилировать под разные системы. Теперь можно писать код один раз, будучи уверенным в его работе, что делает Java очень мощным и гибким языком.